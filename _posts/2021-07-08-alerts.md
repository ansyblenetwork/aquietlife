---
title: "Stock alert applet"
---

A stock alert applet (under development).

<div>
	
<input onkeyup="if (event.keyCode == 27) D('recryptInputb').value = '';
		else if (event.keyCode == 13) {
			event.preventDefault(); 
			submitTicker();
		}"
id="tickerInput" autocomplete="off" placeholder="Enter stock ticker...">

<span id="tickerOutput"></span>

</div>

<script>
	
function D(string) { return document.getElementById(string);}	
	
function submitTicker() {
	console.log("starting the submit ticker function");
	
	let query = 'https://query2.finance.yahoo.com/v7/finance/options/' + D('tickerInput').value;
	console.log(query);
	
	fetch("https://sandboxansyble.herokuapp.com/", 
		{cache:'no-cache', headers: {'Target-URL': query }}).then(function(response) {
		return response.json();
	}).then(function(data) { 
		D('tickerOutput').textContent = "Ticker: " + data.optionChain.result[0].underlyingSymbol + '\n' + "Price: " + data.optionChain.result[0].quote.ask;
	}).catch(function(error) {
		console.log(error);
	});	
}
</script>
    
